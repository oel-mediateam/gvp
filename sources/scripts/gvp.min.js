/* global videojs *//* global console */$(document).ready(function(){function o(e){var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t),r=n.exec(window.location.href);e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");return r===null?"":decodeURIComponent(r[1].replace(/\+/g," "))}function u(e){var t=e,n=t.split(" "),r,i,s,o=[],u;for(s=0;s<n.length;s++){r=n[s].substring(0,1).toUpperCase();i=n[s].substring(1);o[s]=r+i}u=o.join(" ");return u}function a(){if($.trim(o("ttl"))!==""){$(".title_bar").html(u($.trim(o("ttl")).replace(/\_+/g," ")));console.log("Title: "+u($.trim(o("ttl")).replace(/\_+/g," ")))}if($.trim(o("intro"))!==""&&Number($.trim(o("intro")))===1){n=!0;console.log("Intro: "+n)}if(n&&$.trim(o("type"))!==""){r=$.trim(o("type"));console.log("Intro type: "+r)}if($.trim(o("w"))!==""){e=Number($.trim(o("w")));console.log("Width: "+e)}if($.trim(o("h"))!==""){t=Number($.trim(o("h")));console.log("Height: "+t)}if($.trim(o("dl"))!==""){i=$.trim(o("dl"));i=i.split("");console.log("Downloadable flag: "+i)}}function f(){$(".video_holder").html('<video id="gvp_video" class="video-js vjs-default-skin" controls preload="metadata" poster="smgt370_course_intro.jpg"></video>');videojs("gvp_video",{},function(){s=this;this.progressTips();this.width(e);this.height(t);this.src({type:"video/mp4",src:r+".mp4"})});s.on("ended",function(){this.dispose();l()})}function l(r){if(typeof r=="undefined"||typeof r===null)r=!1;r?$(".video_holder").html('<video id="gvp_video" class="video-js vjs-default-skin" controls poster="smgt370_course_intro.jpg"><track src="smgt370_course_intro.vtt" kind="subtitles" srcland="en" label="English" default /></video>'):$(".video_holder").html('<video id="gvp_video" class="video-js vjs-default-skin" controls><track src="smgt370_course_intro.vtt" kind="subtitles" srcland="en" label="English" default /></video>');videojs("gvp_video",{},function(){this.progressTips();this.width(e);this.height(t);this.src({type:"video/mp4",src:"smgt370_course_intro.mp4"});n&&this.play()})}var e=640,t=360,n=!1,r=null,i=null,s;a();n?f():l(!0);$(".video_holder").on("click",function(){$(".title_bar").hide()})});